---
title: "Homework Assignment #3"
subtitle: "Prioritizing potential aquaculture"
author: "Liz Peterson"
date: 11.14.24
warning: false
error: false
editor_options: 
  chunk_output_type: console
---

```{r}
library(terra)
library(here)
library(sf)
library(raster)
library(stars)
```

### Prepare data
```{r}
# Read in West Coast Exclusive Economic Zones shapefile
wc_eez <- st_read(here('data/wc_regions_clean.shp'))

# Read in bathymetry raster
depth <- raster(here('data/depth.tif'))

# Read in annual average sea surface temperature rasters from 2008-2012
sst_2008 <- raster(here('data/average_annual_sst_2008.tif'))
sst_2009 <- raster(here('data/average_annual_sst_2009.tif'))
sst_2010 <- raster(here('data/average_annual_sst_2010.tif'))
sst_2011 <- raster(here('data/average_annual_sst_2011.tif'))
sst_2012 <- raster(here('data/average_annual_sst_2012.tif'))
```

```{r}
# Combine SST rasters
sst_stack <- stack(sst_2008, sst_2009, sst_2010, sst_2011, sst_2012)
```

```{r}
# Make sure all data sets have the same CRS - using sst_all as a reference

```

### Process data
```{r}
# Find mean SST from 2008-2012
mean_sst <- mean(sst_stack)

# Convert mean SST to Celcius from Kelvins
mean_sst <- mean_sst - 273.15
```

```{r}
# Check mean_sst
plot(mean_sst)
```


```{r}
# Crop the depth raster to match the extent of the sst raster
depth_cropped <- crop(depth, sst_stack)

# Resample the depth data to match the resolution of the sst raster (using the nearest neighbor approach)
depth_resampled <- resample(depth, sst_stack, method = "ngb")
```

```{r}
# Check depth raster after resampling
plot(depth_resampled)
```

```{r}
# Check that depth and sst match in resolution, extent, and CRS

```


### Find suitable locations
```{r}
# Reclassify sst and depth into locations that are suitable for oysters
rcl <- matrix(c())
```

### Determine the most suitable EEZ
```{r}

```

